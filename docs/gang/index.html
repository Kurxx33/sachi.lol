<!DOCTYPE html>
<html lang="en">
<head>
    <title>@evx</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:description" content="god's hand">
    <meta name="theme-color" data-react-helmet="true" content="#2B2D31">
    <link rel="stylesheet" type="text/css" href="css/old.css">
    <link href="https://fonts.cdnfonts.com/css/vcr-osd-mono" rel="stylesheet">
</head>

<body>
    <audio id="song" src="assets/song.mp3" autoplay loop></audio>

    <div class="buttons-container" id="enter-container">
        <button id="enter" onclick="startPage()">enter</button>
    </div>

    <div class="buttons-container" id="member-container">
        <button onclick="bmw43()">bmw43</button>
        <p>◦</p>
        <button onclick="noire()">noire</button>
        <p>◦</p>
        <button onclick="com()">com</button>
    </div>

    <div class="buttons-container" id="main-container">
        <button onclick="about()">about</button>
        <p>◦</p>
        <button onclick="telegram()">telegram</button>
    </div>

    <div class="background">
        <div class="ascii-image" id="image">
<img id="random-gif" style="width: 75px; height: auto;">
            <img id="pfp-image">
        </div>

        <div class="full-page-overlay">
            <img src="https://r2.interrupted.me/F/IP7h5Pne.png">
        </div>
    </div>

    <div class="text-container">
        <p class="display-text">good in the evil <3 </p>
    </div>

    <div class="snowflakes"></div>

    <script src="scripts/snowflakes.js"></script>
    <script src="scripts/index.js"></script>
    <script>
        let transitionActive = false;
        var song = document.getElementById("song");
        var current_page = "main";

        var songList = [
            "https://r2.interrupted.me/F/QgrHcBd9.mp3",
            "https://r2.interrupted.me/F/DReihIGF.mp3",
            "https://r2.interrupted.me/F/EzrDmIBr.mp3",
            "https://r2.interrupted.me/F/Uiws8GeC.mp3",
            "https://r2.interrupted.me/F/Q6Kt23uF.mp3",
            "https://r2.interrupted.me/F/8xGLntzL.mp3"
        ];
        var previousSong = localStorage.getItem('previousSong');

        function getRandomSong() {
            if (!previousSong) {
                previousSong = songList[Math.floor(Math.random() * songList.length)];
            } else {
                previousSong = previousSong === songList[0] ? songList[1] : songList[0];
            }
            localStorage.setItem('previousSong', previousSong);
            return previousSong;
        }

        function startMusic() {
            var selectedSong = getRandomSong();
            song.src = selectedSong;
            song.loop = true;
            song.volume = 0;
            song.playbackRate = 0.85;
            song.play();

            var fadeInInterval = setInterval(function () {
                song.volume += 0.1;
                if (song.volume >= 0.7) {
                    song.volume = 0.7;
                    clearInterval(fadeInInterval);
                }
            }, 350);
        }

        function startHome() {
            if (transitionActive) return;
            transitionActive = true;

            const displayText = document.querySelector('.display-text');
            displayText.style.opacity = 0;

            setTimeout(() => {
                displayText.innerHTML = getRandomSentence();
                displayText.style.opacity = 1;
                transitionActive = false;
            }, 2000);
        }

        function startPage() {
            const enterButton = document.getElementById("enter-container");
            enterButton.style.transition = "opacity 1s ease-in-out";
            enterButton.style.opacity = 0;

            setTimeout(() => {
                const memberButtons = document.getElementById("member-container");
                const mainButtons = document.getElementById("main-container");
                memberButtons.style.display = "flex";
                mainButtons.style.display = "flex";

                requestAnimationFrame(() => {
                    memberButtons.style.transition = "opacity 1s ease-in-out";
                    memberButtons.style.opacity = 1;
                    mainButtons.style.transition = "opacity 1s ease-in-out";
                    mainButtons.style.opacity = 1;
                });

                enterButton.style.display = "none";
            }, 1000);

 startMusic();

            setTimeout(startHome, 1000);
        }

        function memberCall(pfpSrc, textContent, user) {
            if (transitionActive) return;
            transitionActive = true;

            if (current_page === "member") {
                const displayText = document.querySelector(".display-text");
                const pfpImage = document.getElementById("pfp-image");

                displayText.innerHTML = textContent;
                document.title = "@evx; " + user;
                pfpImage.src = pfpSrc;

                transitionActive = false;
            } else {
                current_page = "member";
                document.title = "@evx; " + user;
                const displayText = document.querySelector(".display-text");
                const randomGif = document.getElementById("random-gif");
                const pfpImage = document.getElementById("pfp-image");

                pfpImage.style.display = "block";
                pfpImage.style.opacity = 1;

                displayText.innerHTML = textContent;
                pfpImage.src = pfpSrc;
                randomGif.style.display = "none";

                transitionActive = false;
            }
        }

        function noire() {
            memberCall(
                "https://r2.interrupted.me/F/yIpEiNOZ.jpg",
                "dead",
                "noire"
            );
        }

        function com() {
            memberCall(
                "https://r2.interrupted.me/F/pctf.png",
                "breaking",
                "com"
            );
        }

        function bmw43() {
            memberCall(
                "https://r2.interrupted.me/F/rvle.jpg",
                "dying",
                "bmw43"
            );
        }

        function about() {
            updatePage(
                "<a href='https://t.me/fatebreaker' target='_blank' style='color: white;'>@evx</a> is a business focused group based on negotiations & trades",
                "about"
            );
        }

        function telegram() {
            window.open("https://t.me/fatebreaker", "_blank");
        }

        function updatePage(htmlContent, pageTitle) {
            if (transitionActive) return;
            transitionActive = true;
            document.title = "@evx; " + pageTitle;
            const displayText = document.querySelector(".display-text");

            if (current_page !== "main") {
                current_page = "main";
                const randomGif = document.getElementById("random-gif");
                const pfpImage = document.getElementById("pfp-image");

                pfpImage.style.opacity = 0;
                randomGif.style.display = "block";
                randomGif.style.opacity = 1;
                displayText.innerHTML = htmlContent;
                pfpImage.style.display = "none";
                displayText.style.opacity = 1;

                transitionActive = false;
            } else {
                displayText.innerHTML = htmlContent;
                transitionActive = false;
            }
        }

        function getRandomSentence() {
            const sentences = [
                "@ <a href='https://t.me/fatebreaker' target='_blank' style='color: white;'>god's</a>right hand"
            ];
            const randomIndex = Math.floor(Math.random() * sentences.length);
            return sentences[randomIndex];
        }

        var gifs = [
            "https://r2.interrupted.me/F/edg44KkU.gif",
            "https://r2.interrupted.me/F/IFBodsEw.gif"
        ];

        function setRandomGif() {
            var randomIndex = Math.floor(Math.random() * gifs.length);
            var randomGif = gifs[randomIndex];
            document.getElementById("random-gif").src = randomGif;

            document.body.setAttribute("data-current-gif", randomGif);

            updateButtonHoverColor();
        }

        setRandomGif();

        function updateButtonHoverColor() {
            var currentGif = document.body.getAttribute("data-current-gif");
            var buttons = document.querySelectorAll(".buttons-container button");

            buttons.forEach(function(button) {
                button.setAttribute("data-gif", currentGif);
            });
        }
    </script>
</body>
</html>
